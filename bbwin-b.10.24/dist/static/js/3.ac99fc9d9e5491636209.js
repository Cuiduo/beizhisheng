webpackJsonp([3],{"8hRR":function(e,t,a){e.exports={default:a("B0bq"),__esModule:!0}},B0bq:function(e,t,a){a("fWfb"),e.exports=a("FeBl").Object.getOwnPropertySymbols},CJli:function(e,t,a){a("pRCB");var r=a("FeBl").Object;e.exports=function(e,t){return r.defineProperties(e,t)}},HSQo:function(e,t,a){e.exports={default:a("CJli"),__esModule:!0}},K6ED:function(e,t,a){e.exports={default:a("cnlX"),__esModule:!0}},Kh5d:function(e,t,a){var r=a("sB3e"),l=a("PzxK");a("uqUo")("getPrototypeOf",function(){return function(e){return l(r(e))}})},MiO9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("HSQo"),l=a.n(r),i=a("8hRR"),o=a.n(i),n=a("K6ED"),s=a.n(n),d=a("fZjL"),u=a.n(d),c=a("Zx67"),p=a.n(c),b=a("mvHQ"),h=a.n(b),v=a("Dd8w"),f=a.n(v),m=a("NYxO"),g=a("UqIz"),y=a("vLgD");var D=a("NDWR"),x=a.n(D),w=a("lbHh"),_=a.n(w),k={data:function(){return{labelPosition:"right",appBackground:x.a,loading:!1,lineHeight:"lineHeight",sexs:"性别:",userId:"",rules:{"baby.name":[{required:!0,validator:this.validName,message:"请输入正确的小儿姓名",trigger:"blur"}],"baby.gender":[{required:!0,message:"请选择性别",trigger:"change"}],"baby.nation":[{required:!0,message:"请选择民族",trigger:"change"}],"baby.birthday":[{required:!0,message:"请选择出生日期",trigger:"change"}],"father.name":[{required:!0,validator:this.validName,message:"请输入正确的姓名",trigger:"blur"}],"father.tel":[{required:!0,validator:this.validPhone,message:"请输入正确的11位父亲手机号",trigger:"blur"}],"father.email":[{type:"email",message:"请输入正确的邮箱",trigger:["blur","change"]}],"father.birth":[{validator:this.validBirth,message:"请输入正确的生日",trigger:"blur"}],"mother.name":[{validator:this.validName2,message:"请输入正确的姓名",trigger:["blur"]}],"mother.tel":[{validator:this.validPhone2,message:"",trigger:["change"]}],"mother.email":[{type:"email",message:"请输入正确的母亲邮箱",trigger:["blur","change"]}],"mother.birth":[{validator:this.validBirth,message:"请输入正确的母亲生日",trigger:"blur"}]},ofToday:{disabledDate:function(e){return e.getTime()>Date.now()}},career:[{value:"金融业",label:"金融业"},{value:"服务业",label:"服务业"},{value:"信息产业",label:"信息产业"},{value:"制造业",label:"制造业"},{value:"传播业",label:"传播业"},{value:"教育",label:"教育"},{value:"政府机构",label:"政府机构"},{value:"医疗保健",label:"医疗保健"},{value:"其他",label:"其他"}],education:[{value:"博士",label:"博士"},{value:"硕士",label:"硕士"},{value:"本科",label:"本科"},{value:"专科",label:"专科"},{value:"高中",label:"高中"},{value:"初中",label:"初中"},{value:"小学",label:"小学"},{value:"其他",label:"其他"}],workTime:[],submitDoctor:[],pushData:{baby:{gender:"1",name:void 0,userid:void 0,nation:"汉族",relation:void 0,bloodtype:void 0,postcode:void 0,account:void 0,province:void 0,city:void 0,address:void 0,birthday:void 0},father:{name:void 0,career:void 0,tel:void 0,education:void 0,worktime:void 0,email:void 0,birth:void 0},mother:{name:void 0,career:void 0,tel:void 0,education:void 0,worktime:void 0,email:void 0,birth:void 0}},pushData2:"",postdata:"",multipleSelection:[],list:null,listLoading:!0}},components:{Breadcrumb:g.a},name:"record",computed:f()({},Object(m.b)(["name","roles"])),created:function(){this.workTimeData(),this.getUserList(),this.userId=_.a.get("userId")},methods:{validName:function(e,t,a){t&&/^[\u4e00-\u9fa5_a-zA-Z]{2,20}$/.test(t)?a():a(new Error("请输入正确姓名"))},validName2:function(e,t,a){void 0!==t&&""!=t?t&&/^[\u4e00-\u9fa5_a-zA-Z]{2,20}$/.test(t)?a():a(new Error("请输入正确姓名")):a()},validPhone:function(e,t,a){/^1[3|4|5|7|8][0-9]\d{8}$/.test(t)&&t?a():a(new Error("请输入正确的11位手机号码"))},validPhone2:function(e,t,a){void 0!==t&&""!=t?/^1[3|4|5|7|8][0-9]\d{8}$/.test(t)&&t?this.pushData.mother.tel!=this.pushData.father.tel?a():a(new Error("新增手机号不能与已有手机号相同")):a(new Error("请输入正确的11位手机号码")):a()},validBirth:function(e,t,a){new Date(t)>=new Date(this.pushData.baby.birthday)?a(new Error("请输入正确的生日")):a()},handleSelectionChange:function(e){this.multipleSelection=e},workTimeData:function(){for(var e=[],t=0;t<=24;t++)e.push({value:""+t,label:t+" 小时"});this.workTime=e},getUserList:function(){var e=this;Object(y.a)({url:"/api/manage/getUserList",method:"get"}).then(function(t){for(var a=t.data,r=[],l=0;l<a.length;l++)0===l&&(e.pushData.baby.userid=""+a[l].userid),r.push({value:""+a[l].userid,label:a[l].name});e.submitDoctor=r,e.pushData.baby.userid=e.userId})},handleCreateSave:function(){var e=this;this.$refs.addEditPopForm.validate(function(t){if(console.log(e.pushData.mother),void 0===e.pushData.mother.tel||""==e.pushData.mother.tel||void 0===e.pushData.mother.name||""==e.pushData.mother.name?(e.postdata=JSON.parse(h()(e.pushData)),delete e.postdata.mother):e.postdata=e.pushData,!t)return e.loading=!1,!1;var a;e.loading=!0,(a=e.postdata,Object(y.a)({url:"/record/insertBaby",method:"post",data:f()({},a)})).then(function(t){if(500==t.status)return e.loading=!1,void e.$message({message:"联系人已存在",center:!0,type:"error"});e.loading=!1,e.$message({message:"新建资料成功!",type:"success",duration:1e3,onClose:function(){e.goPage(t.data)}})}).catch(function(t){e.loading=!1,console.log(t)})})},cloneDeep:function(e){for(var t={},a=p()(e);null!=a;)t=r(deepClone(t),a),a=p()(a);function r(e){for(var t=arguments.length,a=Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return a.forEach(function(t){var a=u()(t).reduce(function(e,a){return e[a]=s()(t,a),e},{});o()(t).forEach(function(e){var r=s()(t,e);r.enumerable&&(a[e]=r)}),l()(e,a)}),e}return r(deepClone(e),t)},goPage:function(e){this.$router.push({path:"/record/view/choose",query:{babyId:e,type:"add"}})}}},S={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"record-container"},[a("div",{staticClass:"record-medical"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("breadcrumb")],1)],1)],1),e._v(" "),a("div",{staticClass:"appBackground",style:{backgroundImage:"url("+e.appBackground+")"}},[a("div",{staticClass:"filter-medical"},[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"addEditPopForm",attrs:{model:e.pushData,rules:e.rules,"label-position":e.labelPosition,"label-width":"74px"}},[a("div",{staticClass:"filter-text",staticStyle:{"font-weight":"600"}},[e._v("小儿详细资料")]),e._v(" "),a("div",{staticClass:"line"}),e._v(" "),a("div",{staticClass:"filter-tips"},[e._v("必填内容")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{"label-width":"90px",prop:"baby.name",label:"小儿姓名:"}},[a("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"请输入"},model:{value:e.pushData.baby.name,callback:function(t){e.$set(e.pushData.baby,"name",t)},expression:"pushData.baby.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{"label-width":"90px",prop:"baby.gender",label:e.sexs}},[a("el-select",{staticStyle:{width:"90%"},attrs:{placeholder:"请选择"},model:{value:e.pushData.baby.gender,callback:function(t){e.$set(e.pushData.baby,"gender",t)},expression:"pushData.baby.gender"}},[a("el-option",{attrs:{label:"男",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"女",value:"0"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{"label-width":"90px",prop:"baby.nation",label:"民族:"}},[a("el-select",{staticStyle:{width:"90%"},attrs:{placeholder:"请选择"},model:{value:e.pushData.baby.nation,callback:function(t){e.$set(e.pushData.baby,"nation",t)},expression:"pushData.baby.nation"}},[a("el-option",{attrs:{label:"汉族",value:"汉族"}}),e._v(" "),a("el-option",{attrs:{label:"满族",value:"满族"}}),e._v(" "),a("el-option",{attrs:{label:"蒙族",value:"蒙族"}}),e._v(" "),a("el-option",{attrs:{label:"回族",value:"回族"}}),e._v(" "),a("el-option",{attrs:{label:"其他",value:"其他"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{"label-width":"90px",prop:"baby.birthday",label:"出生日期:"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择","value-format":"yyyy-MM-dd HH:mm:ss","picker-options":e.ofToday},model:{value:e.pushData.baby.birthday,callback:function(t){e.$set(e.pushData.baby,"birthday",t)},expression:"pushData.baby.birthday"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{"label-width":"90px",prop:"father.name",label:"家长姓名:"}},[a("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.pushData.father.name,callback:function(t){e.$set(e.pushData.father,"name",t)},expression:"pushData.father.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{"label-width":"90px",prop:"father.tel",label:"手机号:"}},[a("el-input",{staticStyle:{width:"90%"},attrs:{placeholder:"父亲手机号",clearable:""},model:{value:e.pushData.father.tel,callback:function(t){e.$set(e.pushData.father,"tel",t)},expression:"pushData.father.tel"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"line"}),e._v(" "),a("div",{staticClass:"filter-tips"},[e._v("其他信息")]),e._v(" "),a("el-row"),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"father.email",label:"家长邮箱:"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.pushData.father.email,callback:function(t){e.$set(e.pushData.father,"email",t)},expression:"pushData.father.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"mother.name",label:"新增家长:"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.pushData.mother.name,callback:function(t){e.$set(e.pushData.mother,"name",t)},expression:"pushData.mother.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"90px",prop:"mother.tel",label:"新增手机号:"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入",clearable:""},model:{value:e.pushData.mother.tel,callback:function(t){e.$set(e.pushData.mother,"tel",t)},expression:"pushData.mother.tel"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"userid",label:"提交医生:"}},[1==e.roles?a("el-select",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择"},model:{value:e.pushData.baby.userid,callback:function(t){e.$set(e.pushData.baby,"userid",t)},expression:"pushData.baby.userid"}},e._l(e.submitDoctor,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})):a("el-input",{staticStyle:{width:"80%"},attrs:{disabled:!0},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"record-button",attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleCreateSave}},[e._v("下一步")])],1)],1)],1)])])},staticRenderFns:[]};var O=a("VU/8")(k,S,!1,function(e){a("meIT")},"data-v-1013bbf4",null);t.default=O.exports},Zx67:function(e,t,a){e.exports={default:a("fS6E"),__esModule:!0}},cnlX:function(e,t,a){a("iInB");var r=a("FeBl").Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},fS6E:function(e,t,a){a("Kh5d"),e.exports=a("FeBl").Object.getPrototypeOf},iInB:function(e,t,a){var r=a("TcQ7"),l=a("LKZe").f;a("uqUo")("getOwnPropertyDescriptor",function(){return function(e,t){return l(r(e),t)}})},iwOX:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.line-dashed[data-v-1013bbf4] {\n  border-bottom: 1px dashed #dadada;\n  background-color: transparent;\n}\n.line[data-v-1013bbf4] {\n  margin: 20px 5px 35px 5px;\n}\n.record-container[data-v-1013bbf4] {\n  background-color: #e3f2f8;\n  height: 100%;\n}\n.record-medical[data-v-1013bbf4] {\n  padding: 4% 5% 0 5%;\n}\n.record-button[data-v-1013bbf4] {\n  float: right;\n  margin-top: 4%;\n}\n.filter-container[data-v-1013bbf4] {\n  width: 100%;\n  background-color: #fff;\n  margin-top: 2%;\n  border-radius: 10px;\n  padding: 20px 2% 2%;\n}\n.filter-medical[data-v-1013bbf4] {\n  padding: 0 5% 10% 5%;\n  min-height: 445px;\n}\n.filter-text[data-v-1013bbf4] {\n  text-align: center;\n  font-size: 20px;\n  color: #4f4f4f;\n}\n.filter-tips[data-v-1013bbf4] {\n  font-size: 18px;\n  color: #4f4f4f;\n  padding-bottom: 1%;\n}\n.appBackground[data-v-1013bbf4] {\n  background-size: 100%;\n  background-repeat: no-repeat;\n  background-position-y: bottom;\n  width: 100%;\n  height: 100%;\n  z-index: -10;\n  zoom: 1;\n}\n",""])},meIT:function(e,t,a){var r=a("iwOX");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("27bf1f3f",r,!0)},mvHQ:function(e,t,a){e.exports={default:a("qkKv"),__esModule:!0}},pRCB:function(e,t,a){var r=a("kM2E");r(r.S+r.F*!a("+E39"),"Object",{defineProperties:a("qio6")})},qkKv:function(e,t,a){var r=a("FeBl"),l=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return l.stringify.apply(l,arguments)}}});