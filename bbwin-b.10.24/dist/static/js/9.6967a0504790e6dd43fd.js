webpackJsonp([9],{aUgc:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),r=a.n(n),l=a("vLgD");var i={data:function(){return{multipleSelection:[],searchData:{babyName:"",birthday:"",parentName:"",tel:"",testId:0},page:1,pageSize:10,totalRow:0,list:null,listLoading:!0}},created:function(){this.fetchData()},methods:{handleSizeChange:function(t){this.pageSize=t,this.fetchData()},handleCurrentChange:function(t){this.page=t,this.fetchData()},handleSelectionChange:function(t){this.multipleSelection=t},fetchData:function(){var t,e,a,n=this;this.list=null,this.listLoading=!0,(t=this.page,e=this.pageSize,a=this.searchData,Object(l.a)({url:"/api/manage/AllBaby",method:"post",params:r()({page:t,size:e},a)})).then(function(t){n.list=t.data.result,n.totalRow=t.data.records,n.listLoading=!1})},goPage:function(t){t>0?this.$router.push({path:"/record/view/add",query:{id:t}}):this.$router.push({path:"/record/view/add"})},resetForm:function(t){this.title="最近新建病历",this.$refs[t].resetFields(),this.fetchData()},goInfo:function(t){this.$router.push({path:"/record/info",query:{babyId:t}})},goTest:function(t){this.$router.push({path:"/record/view/choose",query:{babyId:t}})},query:function(){this.title="查找结果",this.fetchData()}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"30px",height:"750px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.goPage}},[t._v("新建病历")])],1)],1),t._v(" "),a("div",{staticClass:"filter-container"},[a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"searchData",attrs:{model:t.searchData,"label-width":"80px"}},[a("div",{staticClass:"record-left"},[a("el-row",{attrs:{gutter:20}},[a("el-form-item",{attrs:{prop:"babyName",label:"小儿姓名"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入",clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.fetchData(e):null}},model:{value:t.searchData.babyName,callback:function(e){t.$set(t.searchData,"babyName",e)},expression:"searchData.babyName"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"birthday",label:"出生日期"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"date",placeholder:"请选择","value-format":"yyyy-MM-dd"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.fetchData(e):null}},model:{value:t.searchData.birthday,callback:function(e){t.$set(t.searchData,"birthday",e)},expression:"searchData.birthday"}})],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-form-item",{attrs:{prop:"tel",label:"联系电话"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入",clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.fetchData(e):null}},model:{value:t.searchData.tel,callback:function(e){t.$set(t.searchData,"tel",e)},expression:"searchData.tel"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"parentName",label:"家长姓名"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入",clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.fetchData(e):null}},model:{value:t.searchData.parentName,callback:function(e){t.$set(t.searchData,"parentName",e)},expression:"searchData.parentName"}})],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-button",{attrs:{type:"info",plain:""},on:{click:function(e){t.resetForm("searchData")}}},[t._v("重置")])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-button",{attrs:{type:"primary"},on:{click:t.query}},[t._v("查找")])],1)],1)],1)])],1),t._v(" "),a("el-col",{staticClass:"cardTop",attrs:{span:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:t.list,"element-loading-text":"Loading",stripe:"",fit:"","highlight-current-row":"","empty-text":"暂无数据"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"babyName",label:"姓名",align:"center","header-align":"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"性别",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.babyGender?a("span",[t._v("男")]):a("span",[t._v("女")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"出生日期",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.babyBirthday.substr(0,10))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"fatherName",label:"父亲姓名",align:"center","header-align":"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"motherName",label:"母亲姓名",align:"center","header-align":"center"}}),t._v(" "),a("el-table-column",{attrs:{width:"250px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"info",plain:""},on:{click:function(a){t.goInfo(e.row.babyId)}}},[t._v("病历详情")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(a){t.goTest(e.row.babyId)}}},[t._v("新建测评")])]}}])})],1),t._v(" "),a("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{"current-page":t.page,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalRow},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var s=a("VU/8")(i,o,!1,function(t){a("wQN2")},null,null);e.default=s.exports},k5xi:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.cardTop{\n  margin-top: 3%;\n}\n.el-form-item{\n  margin-left: 30px;\n  float: left;\n}\n",""])},wQN2:function(t,e,a){var n=a("k5xi");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("1634c67b",n,!0)}});