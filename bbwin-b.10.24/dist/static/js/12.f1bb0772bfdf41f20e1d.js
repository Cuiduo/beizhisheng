webpackJsonp([12],{KGO5:function(t,a,e){(t.exports=e("FZ+f")(!1)).push([t.i,"\n.cardTop{\n    margin-top: 3%;\n}\n",""])},QUHw:function(t,a,e){var s=e("KGO5");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e("rjj0")("4a2b09f6",s,!0)},x0vE:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("Dd8w"),i=e.n(s),o=e("woOf"),l=e.n(o),p=e("NYxO"),n=e("TIfe"),r=e("vLgD");var c={data:function(){return{rules:{hospitalName:[{required:!0,message:"请输入医院名称",trigger:"blur"}]},logo:void 0,innerLogo:void 0,banner:void 0,hospitalName:void 0,dialogVisible:!1,upLoadData:{hospitalId:0,file:void 0},pushData:{dialogTitle:void 0,hospitalId:void 0,hospitalName:void 0,dialogFormVisible:!1},fileHeaders:{token:Object(n.a)()}}},created:function(){this.pushData.hospitalId=this.hospitalId,this.pushDataTmp=l()({},this.pushData),this.getLogo(),this.getBanner(),this.getHospitalName(),this.getInnerLogo()},computed:i()({},Object(p.b)(["hospitalId"])),methods:{getLogo:function(){var t,a=this;(t=this.hospitalId,Object(r.a)({url:"/api/manage/getLogo",method:"get",params:{hospitalId:t}})).then(function(t){a.logo=t.data.imgSrc})},getBanner:function(){var t,a=this;(t=this.hospitalId,Object(r.a)({url:"/api/manage/getBanner",method:"get",params:{hospitalId:t}})).then(function(t){a.banner=t.data.imgSrc})},getHospitalName:function(){var t,a=this;(t=this.hospitalId,Object(r.a)({url:"/login/getHospitalName",method:"get",params:{hospitalId:t}})).then(function(t){a.hospitalName=t.data.hospitalName})},getInnerLogo:function(){var t,a=this;(t=this.hospitalId,Object(r.a)({url:"/api/manage/getInnerLogo",method:"get",params:{hospitalId:t}})).then(function(t){a.innerLogo=t.data.imgSrc})},handleSelectionChange:function(t){this.multipleSelection=t},handleCreate:function(){var t=this;this.pushData=l()({},this.pushDataTmp),this.pushData.dialogTitle="修改密码",this.pushData.dialogFormVisible=!0,this.$nextTick(function(){t.$refs.addEditPopForm.clearValidate()})},handleCreateSave:function(){var t=this;this.$refs.addEditPopForm.validate(function(a){var e;a&&(e=t.pushData,Object(r.a)({url:"/api/manage/setHospitalName",method:"post",params:i()({},e)})).then(function(a){t.$message({message:"医院名称修改成功!",type:"success",duration:1e3,onClose:function(){t.pushData.dialogFormVisible=!1,t.hospitalName=t.pushData.hospitalName}})}).catch(function(t){console.error(t)})})},beforeImgUpload:function(t){this.upLoadData.hospitalId=this.hospitalId,this.upLoadData.file=t},setLogo:function(t){"200"===t.status?(this.$message({message:"保存成功",type:"success"}),this.getLogo()):this.$message({message:"保存失败,图片太大，请重新上传",type:"warning"})},setBanner:function(t){"200"===t.status?(this.$message({message:"保存成功",type:"success"}),this.getBanner()):this.$message({message:"保存失败,图片太大，请重新上传",type:"warning"})},setInnerLogo:function(t){"200"===t.status?(this.$message({message:"保存成功",type:"success"}),this.getInnerLogo()):this.$message({message:"保存失败,图片太大，请重新上传",type:"warning"})}}},d={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{padding:"30px"}},[e("el-row",[e("el-col",{attrs:{span:24}},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("修改首页Logo")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("div",{staticClass:"text item"},[e("img",{attrs:{src:t.logo,width:"80%",height:"200px"}})])]),t._v(" "),e("el-col",{attrs:{span:10}},[e("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"http://saysocool.s1.natapp.cc/api/manage/setLogo",multiple:"",data:t.upLoadData,headers:t.fileHeaders,"on-success":t.setLogo,"before-upload":t.beforeImgUpload,accept:"image/jpeg,.jpg,image/gif,.gif,image/png,.png,image/bmp,.bmp,.jpeg,.JPG,.JPEG,.PBG,.GIF,.BMP,.JPEG"}},[e("i",{staticClass:"el-icon-upload"}),t._v(" "),e("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),e("em",[t._v("点击上传")])]),t._v(" "),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])]),t._v(" "),e("br")],1)],1)],1),t._v(" "),e("el-col",{staticClass:"cardTop",attrs:{span:24}},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("修改首页Banner")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("div",{staticClass:"text item"},[e("img",{attrs:{src:t.banner,width:"80%",height:"200px"}})])]),t._v(" "),e("el-col",{attrs:{span:10}},[e("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"http://saysocool.s1.natapp.cc/api/manage/setBanner",multiple:"",data:t.upLoadData,headers:t.fileHeaders,"on-success":t.setBanner,"before-upload":t.beforeImgUpload,accept:"image/jpeg,.jpg,image/gif,.gif,image/png,.png,image/bmp,.bmp,.jpeg,.JPG,.JPEG,.PBG,.GIF,.BMP,.JPEG"}},[e("i",{staticClass:"el-icon-upload"}),t._v(" "),e("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),e("em",[t._v("点击上传")])]),t._v(" "),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])]),t._v(" "),e("br")],1)],1)],1),t._v(" "),e("el-col",{staticClass:"cardTop",attrs:{span:24}},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("修改内页Logo")])]),t._v(" "),e("el-col",{attrs:{span:14}},[e("div",{staticClass:"text item"},[e("img",{attrs:{src:t.innerLogo,width:"80%",height:"200px"}})])]),t._v(" "),e("el-col",{attrs:{span:10}},[e("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"http://saysocool.s1.natapp.cc/api/manage/setInnerLogo",multiple:"",data:t.upLoadData,headers:t.fileHeaders,"on-success":t.setInnerLogo,"before-upload":t.beforeImgUpload,accept:"image/jpeg,.jpg,image/gif,.gif,image/png,.png,image/bmp,.bmp,.jpeg,.JPG,.JPEG,.PBG,.GIF,.BMP,.JPEG"}},[e("i",{staticClass:"el-icon-upload"}),t._v(" "),e("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),e("em",[t._v("点击上传")])]),t._v(" "),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])]),t._v(" "),e("br")],1)],1)],1),t._v(" "),e("el-col",{staticClass:"cardTop",attrs:{span:24}},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("修改医院")])]),t._v(" "),e("div",{staticClass:"text item",staticStyle:{height:"40px"}},[e("span",{staticStyle:{"line-height":"35px"}},[t._v("单位名称："+t._s(t.hospitalName)+"  ")]),e("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.handleCreate}},[t._v("修改单位名称")])],1)])],1)],1),t._v(" "),e("el-dialog",{attrs:{title:t.pushData.dialogTitle,visible:t.pushData.dialogFormVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":"",width:"30%"},on:{"update:visible":function(a){t.$set(t.pushData,"dialogFormVisible",a)}}},[e("el-form",{ref:"addEditPopForm",attrs:{rules:t.rules,model:t.pushData,"label-position":"right","label-width":"100px"}},[e("el-form-item",{attrs:{label:"原医院名称"}},[t._v("\n        "+t._s(t.hospitalName)+"\n      ")]),t._v(" "),e("el-form-item",{attrs:{label:"新医院名称",prop:"hospitalName"}},[e("el-input",{attrs:{property:"请输入医院名称"},model:{value:t.pushData.hospitalName,callback:function(a){t.$set(t.pushData,"hospitalName",a)},expression:"pushData.hospitalName"}})],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.pushData.dialogFormVisible=!1}}},[t._v("取消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.handleCreateSave}},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]};var g=e("VU/8")(c,d,!1,function(t){e("QUHw")},null,null);a.default=g.exports}});